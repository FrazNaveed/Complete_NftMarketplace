{"ast":null,"code":"export var COMMON_MIME_TYPES = new Map([// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\n['aac', 'audio/aac'], ['abw', 'application/x-abiword'], ['arc', 'application/x-freearc'], ['avif', 'image/avif'], ['avi', 'video/x-msvideo'], ['azw', 'application/vnd.amazon.ebook'], ['bin', 'application/octet-stream'], ['bmp', 'image/bmp'], ['bz', 'application/x-bzip'], ['bz2', 'application/x-bzip2'], ['cda', 'application/x-cdf'], ['csh', 'application/x-csh'], ['css', 'text/css'], ['csv', 'text/csv'], ['doc', 'application/msword'], ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'], ['eot', 'application/vnd.ms-fontobject'], ['epub', 'application/epub+zip'], ['gz', 'application/gzip'], ['gif', 'image/gif'], ['htm', 'text/html'], ['html', 'text/html'], ['ico', 'image/vnd.microsoft.icon'], ['ics', 'text/calendar'], ['jar', 'application/java-archive'], ['jpeg', 'image/jpeg'], ['jpg', 'image/jpeg'], ['js', 'text/javascript'], ['json', 'application/json'], ['jsonld', 'application/ld+json'], ['mid', 'audio/midi'], ['midi', 'audio/midi'], ['mjs', 'text/javascript'], ['mp3', 'audio/mpeg'], ['mp4', 'video/mp4'], ['mpeg', 'video/mpeg'], ['mpkg', 'application/vnd.apple.installer+xml'], ['odp', 'application/vnd.oasis.opendocument.presentation'], ['ods', 'application/vnd.oasis.opendocument.spreadsheet'], ['odt', 'application/vnd.oasis.opendocument.text'], ['oga', 'audio/ogg'], ['ogv', 'video/ogg'], ['ogx', 'application/ogg'], ['opus', 'audio/opus'], ['otf', 'font/otf'], ['png', 'image/png'], ['pdf', 'application/pdf'], ['php', 'application/x-httpd-php'], ['ppt', 'application/vnd.ms-powerpoint'], ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'], ['rar', 'application/vnd.rar'], ['rtf', 'application/rtf'], ['sh', 'application/x-sh'], ['svg', 'image/svg+xml'], ['swf', 'application/x-shockwave-flash'], ['tar', 'application/x-tar'], ['tif', 'image/tiff'], ['tiff', 'image/tiff'], ['ts', 'video/mp2t'], ['ttf', 'font/ttf'], ['txt', 'text/plain'], ['vsd', 'application/vnd.visio'], ['wav', 'audio/wav'], ['weba', 'audio/webm'], ['webm', 'video/webm'], ['webp', 'image/webp'], ['woff', 'font/woff'], ['woff2', 'font/woff2'], ['xhtml', 'application/xhtml+xml'], ['xls', 'application/vnd.ms-excel'], ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'], ['xml', 'application/xml'], ['xul', 'application/vnd.mozilla.xul+xml'], ['zip', 'application/zip'], ['7z', 'application/x-7z-compressed'], // Others\n['mkv', 'video/x-matroska'], ['mov', 'video/quicktime'], ['msg', 'application/vnd.ms-outlook']]);\nexport function toFileWithPath(file, path) {\n  var f = withMimeType(file);\n\n  if (typeof f.path !== 'string') {\n    // on electron, path is already set to the absolute path\n    var webkitRelativePath = file.webkitRelativePath;\n    Object.defineProperty(f, 'path', {\n      value: typeof path === 'string' ? path // If <input webkitdirectory> is set,\n      // the File will have a {webkitRelativePath} property\n      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n      : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0 ? webkitRelativePath : file.name,\n      writable: false,\n      configurable: false,\n      enumerable: true\n    });\n  }\n\n  return f;\n}\n\nfunction withMimeType(file) {\n  var name = file.name;\n  var hasExtension = name && name.lastIndexOf('.') !== -1;\n\n  if (hasExtension && !file.type) {\n    var ext = name.split('.').pop().toLowerCase();\n    var type = COMMON_MIME_TYPES.get(ext);\n\n    if (type) {\n      Object.defineProperty(file, 'type', {\n        value: type,\n        writable: false,\n        configurable: false,\n        enumerable: true\n      });\n    }\n  }\n\n  return file;\n}","map":{"version":3,"sources":["../../src/file.ts"],"names":[],"mappings":"AAAA,OAAO,IAAM,iBAAiB,GAAG,IAAI,GAAJ,CAAQ,CACrC;AACA,CAAC,KAAD,EAAQ,WAAR,CAFqC,EAGrC,CAAC,KAAD,EAAQ,uBAAR,CAHqC,EAIrC,CAAC,KAAD,EAAQ,uBAAR,CAJqC,EAKrC,CAAC,MAAD,EAAS,YAAT,CALqC,EAMrC,CAAC,KAAD,EAAQ,iBAAR,CANqC,EAOrC,CAAC,KAAD,EAAQ,8BAAR,CAPqC,EAQrC,CAAC,KAAD,EAAQ,0BAAR,CARqC,EASrC,CAAC,KAAD,EAAQ,WAAR,CATqC,EAUrC,CAAC,IAAD,EAAO,oBAAP,CAVqC,EAWrC,CAAC,KAAD,EAAQ,qBAAR,CAXqC,EAYrC,CAAC,KAAD,EAAQ,mBAAR,CAZqC,EAarC,CAAC,KAAD,EAAQ,mBAAR,CAbqC,EAcrC,CAAC,KAAD,EAAQ,UAAR,CAdqC,EAerC,CAAC,KAAD,EAAQ,UAAR,CAfqC,EAgBrC,CAAC,KAAD,EAAQ,oBAAR,CAhBqC,EAiBrC,CAAC,MAAD,EAAS,yEAAT,CAjBqC,EAkBrC,CAAC,KAAD,EAAQ,+BAAR,CAlBqC,EAmBrC,CAAC,MAAD,EAAS,sBAAT,CAnBqC,EAoBrC,CAAC,IAAD,EAAO,kBAAP,CApBqC,EAqBrC,CAAC,KAAD,EAAQ,WAAR,CArBqC,EAsBrC,CAAC,KAAD,EAAQ,WAAR,CAtBqC,EAuBrC,CAAC,MAAD,EAAS,WAAT,CAvBqC,EAwBrC,CAAC,KAAD,EAAQ,0BAAR,CAxBqC,EAyBrC,CAAC,KAAD,EAAQ,eAAR,CAzBqC,EA0BrC,CAAC,KAAD,EAAQ,0BAAR,CA1BqC,EA2BrC,CAAC,MAAD,EAAS,YAAT,CA3BqC,EA4BrC,CAAC,KAAD,EAAQ,YAAR,CA5BqC,EA6BrC,CAAC,IAAD,EAAO,iBAAP,CA7BqC,EA8BrC,CAAC,MAAD,EAAS,kBAAT,CA9BqC,EA+BrC,CAAC,QAAD,EAAW,qBAAX,CA/BqC,EAgCrC,CAAC,KAAD,EAAQ,YAAR,CAhCqC,EAiCrC,CAAC,MAAD,EAAS,YAAT,CAjCqC,EAkCrC,CAAC,KAAD,EAAQ,iBAAR,CAlCqC,EAmCrC,CAAC,KAAD,EAAQ,YAAR,CAnCqC,EAoCrC,CAAC,KAAD,EAAQ,WAAR,CApCqC,EAqCrC,CAAC,MAAD,EAAS,YAAT,CArCqC,EAsCrC,CAAC,MAAD,EAAS,qCAAT,CAtCqC,EAuCrC,CAAC,KAAD,EAAQ,iDAAR,CAvCqC,EAwCrC,CAAC,KAAD,EAAQ,gDAAR,CAxCqC,EAyCrC,CAAC,KAAD,EAAQ,yCAAR,CAzCqC,EA0CrC,CAAC,KAAD,EAAQ,WAAR,CA1CqC,EA2CrC,CAAC,KAAD,EAAQ,WAAR,CA3CqC,EA4CrC,CAAC,KAAD,EAAQ,iBAAR,CA5CqC,EA6CrC,CAAC,MAAD,EAAS,YAAT,CA7CqC,EA8CrC,CAAC,KAAD,EAAQ,UAAR,CA9CqC,EA+CrC,CAAC,KAAD,EAAQ,WAAR,CA/CqC,EAgDrC,CAAC,KAAD,EAAQ,iBAAR,CAhDqC,EAiDrC,CAAC,KAAD,EAAQ,yBAAR,CAjDqC,EAkDrC,CAAC,KAAD,EAAQ,+BAAR,CAlDqC,EAmDrC,CAAC,MAAD,EAAS,2EAAT,CAnDqC,EAoDrC,CAAC,KAAD,EAAQ,qBAAR,CApDqC,EAqDrC,CAAC,KAAD,EAAQ,iBAAR,CArDqC,EAsDrC,CAAC,IAAD,EAAO,kBAAP,CAtDqC,EAuDrC,CAAC,KAAD,EAAQ,eAAR,CAvDqC,EAwDrC,CAAC,KAAD,EAAQ,+BAAR,CAxDqC,EAyDrC,CAAC,KAAD,EAAQ,mBAAR,CAzDqC,EA0DrC,CAAC,KAAD,EAAQ,YAAR,CA1DqC,EA2DrC,CAAC,MAAD,EAAS,YAAT,CA3DqC,EA4DrC,CAAC,IAAD,EAAO,YAAP,CA5DqC,EA6DrC,CAAC,KAAD,EAAQ,UAAR,CA7DqC,EA8DrC,CAAC,KAAD,EAAQ,YAAR,CA9DqC,EA+DrC,CAAC,KAAD,EAAQ,uBAAR,CA/DqC,EAgErC,CAAC,KAAD,EAAQ,WAAR,CAhEqC,EAiErC,CAAC,MAAD,EAAS,YAAT,CAjEqC,EAkErC,CAAC,MAAD,EAAS,YAAT,CAlEqC,EAmErC,CAAC,MAAD,EAAS,YAAT,CAnEqC,EAoErC,CAAC,MAAD,EAAS,WAAT,CApEqC,EAqErC,CAAC,OAAD,EAAU,YAAV,CArEqC,EAsErC,CAAC,OAAD,EAAU,uBAAV,CAtEqC,EAuErC,CAAC,KAAD,EAAQ,0BAAR,CAvEqC,EAwErC,CAAC,MAAD,EAAS,mEAAT,CAxEqC,EAyErC,CAAC,KAAD,EAAQ,iBAAR,CAzEqC,EA0ErC,CAAC,KAAD,EAAQ,iCAAR,CA1EqC,EA2ErC,CAAC,KAAD,EAAQ,iBAAR,CA3EqC,EA4ErC,CAAC,IAAD,EAAO,6BAAP,CA5EqC,EA8ErC;AACA,CAAC,KAAD,EAAQ,kBAAR,CA/EqC,EAgFrC,CAAC,KAAD,EAAQ,iBAAR,CAhFqC,EAiFrC,CAAC,KAAD,EAAQ,4BAAR,CAjFqC,CAAR,CAA1B;AAqFP,OAAM,SAAU,cAAV,CAAyB,IAAzB,EAA6C,IAA7C,EAA0D;AAC5D,MAAM,CAAC,GAAG,YAAY,CAAC,IAAD,CAAtB;;AACA,MAAI,OAAO,CAAC,CAAC,IAAT,KAAkB,QAAtB,EAAgC;AAAE;AACvB,QAAA,kBAAkB,GAAI,IAA0B,CAA9B,kBAAlB;AACP,IAAA,MAAM,CAAC,cAAP,CAAsB,CAAtB,EAAyB,MAAzB,EAAiC;AAC7B,MAAA,KAAK,EAAE,OAAO,IAAP,KAAgB,QAAhB,GACD,IADC,CAEH;AACA;AACA;AAJG,QAKD,OAAO,kBAAP,KAA8B,QAA9B,IAA0C,kBAAkB,CAAC,MAAnB,GAA4B,CAAtE,GACI,kBADJ,GAEI,IAAI,CAAC,IARc;AAS7B,MAAA,QAAQ,EAAE,KATmB;AAU7B,MAAA,YAAY,EAAE,KAVe;AAW7B,MAAA,UAAU,EAAE;AAXiB,KAAjC;AAaH;;AAED,SAAO,CAAP;AACH;;AAeD,SAAS,YAAT,CAAsB,IAAtB,EAAwC;AAC7B,MAAA,IAAI,GAAI,IAAI,CAAR,IAAJ;AACP,MAAM,YAAY,GAAG,IAAI,IAAI,IAAI,CAAC,WAAL,CAAiB,GAAjB,MAA0B,CAAC,CAAxD;;AAEA,MAAI,YAAY,IAAI,CAAC,IAAI,CAAC,IAA1B,EAAgC;AAC5B,QAAM,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,GAAX,EACP,GADO,GACA,WADA,EAAZ;AAEA,QAAM,IAAI,GAAG,iBAAiB,CAAC,GAAlB,CAAsB,GAAtB,CAAb;;AACA,QAAI,IAAJ,EAAU;AACN,MAAA,MAAM,CAAC,cAAP,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC;AAChC,QAAA,KAAK,EAAE,IADyB;AAEhC,QAAA,QAAQ,EAAE,KAFsB;AAGhC,QAAA,YAAY,EAAE,KAHkB;AAIhC,QAAA,UAAU,EAAE;AAJoB,OAApC;AAMH;AACJ;;AAED,SAAO,IAAP;AACH","sourceRoot":"","sourcesContent":["export var COMMON_MIME_TYPES = new Map([\r\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\r\n    ['aac', 'audio/aac'],\r\n    ['abw', 'application/x-abiword'],\r\n    ['arc', 'application/x-freearc'],\r\n    ['avif', 'image/avif'],\r\n    ['avi', 'video/x-msvideo'],\r\n    ['azw', 'application/vnd.amazon.ebook'],\r\n    ['bin', 'application/octet-stream'],\r\n    ['bmp', 'image/bmp'],\r\n    ['bz', 'application/x-bzip'],\r\n    ['bz2', 'application/x-bzip2'],\r\n    ['cda', 'application/x-cdf'],\r\n    ['csh', 'application/x-csh'],\r\n    ['css', 'text/css'],\r\n    ['csv', 'text/csv'],\r\n    ['doc', 'application/msword'],\r\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\r\n    ['eot', 'application/vnd.ms-fontobject'],\r\n    ['epub', 'application/epub+zip'],\r\n    ['gz', 'application/gzip'],\r\n    ['gif', 'image/gif'],\r\n    ['htm', 'text/html'],\r\n    ['html', 'text/html'],\r\n    ['ico', 'image/vnd.microsoft.icon'],\r\n    ['ics', 'text/calendar'],\r\n    ['jar', 'application/java-archive'],\r\n    ['jpeg', 'image/jpeg'],\r\n    ['jpg', 'image/jpeg'],\r\n    ['js', 'text/javascript'],\r\n    ['json', 'application/json'],\r\n    ['jsonld', 'application/ld+json'],\r\n    ['mid', 'audio/midi'],\r\n    ['midi', 'audio/midi'],\r\n    ['mjs', 'text/javascript'],\r\n    ['mp3', 'audio/mpeg'],\r\n    ['mp4', 'video/mp4'],\r\n    ['mpeg', 'video/mpeg'],\r\n    ['mpkg', 'application/vnd.apple.installer+xml'],\r\n    ['odp', 'application/vnd.oasis.opendocument.presentation'],\r\n    ['ods', 'application/vnd.oasis.opendocument.spreadsheet'],\r\n    ['odt', 'application/vnd.oasis.opendocument.text'],\r\n    ['oga', 'audio/ogg'],\r\n    ['ogv', 'video/ogg'],\r\n    ['ogx', 'application/ogg'],\r\n    ['opus', 'audio/opus'],\r\n    ['otf', 'font/otf'],\r\n    ['png', 'image/png'],\r\n    ['pdf', 'application/pdf'],\r\n    ['php', 'application/x-httpd-php'],\r\n    ['ppt', 'application/vnd.ms-powerpoint'],\r\n    ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'],\r\n    ['rar', 'application/vnd.rar'],\r\n    ['rtf', 'application/rtf'],\r\n    ['sh', 'application/x-sh'],\r\n    ['svg', 'image/svg+xml'],\r\n    ['swf', 'application/x-shockwave-flash'],\r\n    ['tar', 'application/x-tar'],\r\n    ['tif', 'image/tiff'],\r\n    ['tiff', 'image/tiff'],\r\n    ['ts', 'video/mp2t'],\r\n    ['ttf', 'font/ttf'],\r\n    ['txt', 'text/plain'],\r\n    ['vsd', 'application/vnd.visio'],\r\n    ['wav', 'audio/wav'],\r\n    ['weba', 'audio/webm'],\r\n    ['webm', 'video/webm'],\r\n    ['webp', 'image/webp'],\r\n    ['woff', 'font/woff'],\r\n    ['woff2', 'font/woff2'],\r\n    ['xhtml', 'application/xhtml+xml'],\r\n    ['xls', 'application/vnd.ms-excel'],\r\n    ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n    ['xml', 'application/xml'],\r\n    ['xul', 'application/vnd.mozilla.xul+xml'],\r\n    ['zip', 'application/zip'],\r\n    ['7z', 'application/x-7z-compressed'],\r\n    // Others\r\n    ['mkv', 'video/x-matroska'],\r\n    ['mov', 'video/quicktime'],\r\n    ['msg', 'application/vnd.ms-outlook']\r\n]);\r\nexport function toFileWithPath(file, path) {\r\n    var f = withMimeType(file);\r\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\r\n        var webkitRelativePath = file.webkitRelativePath;\r\n        Object.defineProperty(f, 'path', {\r\n            value: typeof path === 'string'\r\n                ? path\r\n                // If <input webkitdirectory> is set,\r\n                // the File will have a {webkitRelativePath} property\r\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\r\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\r\n                    ? webkitRelativePath\r\n                    : file.name,\r\n            writable: false,\r\n            configurable: false,\r\n            enumerable: true\r\n        });\r\n    }\r\n    return f;\r\n}\r\nfunction withMimeType(file) {\r\n    var name = file.name;\r\n    var hasExtension = name && name.lastIndexOf('.') !== -1;\r\n    if (hasExtension && !file.type) {\r\n        var ext = name.split('.')\r\n            .pop().toLowerCase();\r\n        var type = COMMON_MIME_TYPES.get(ext);\r\n        if (type) {\r\n            Object.defineProperty(file, 'type', {\r\n                value: type,\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: true\r\n            });\r\n        }\r\n    }\r\n    return file;\r\n}\r\n//# sourceMappingURL=file.js.map"]},"metadata":{},"sourceType":"module"}